generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

//Master entry=======================================================================================================================================================

model category_master {
    id                         String                       @id @default(uuid())
    name                       String                       @unique
    status                     Boolean                      @default(true)
    subcategory_master         subcategory_master[]
    createdAt                  DateTime                     @default(now())
    updatedAt                  DateTime                     @updatedAt
    inventory                  inventory[]
    procurement                procurement[]
    procurement_history        procurement_history[]
    procurement_before_boq     procurement_before_boq[]
    procurement_stocks         procurement_stocks[]
    procurement_stocks_history procurement_stocks_history[]
    rate_contract              rate_contract[]
}

model subcategory_master {
    id                         String                       @id @default(uuid())
    name                       String                       @unique
    status                     Boolean                      @default(true)
    category                   category_master              @relation(fields: [category_masterId], references: [id])
    category_masterId          String
    createdAt                  DateTime                     @default(now())
    updatedAt                  DateTime                     @updatedAt
    inventory                  inventory[]
    brand_master               brand_master[]
    procurement_history        procurement_history[]
    procurement_before_boq     procurement_before_boq[]
    procurement_stocks         procurement_stocks[]
    procurement_stocks_history procurement_stocks_history[]
    rate_contract              rate_contract[]
}

model brand_master {
    id                         String                       @id @default(uuid())
    name                       String
    status                     Boolean                      @default(true)
    subcategory                subcategory_master           @relation(fields: [subcategory_masterId], references: [id])
    subcategory_masterId       String
    createdAt                  DateTime                     @default(now())
    updatedAt                  DateTime                     @updatedAt
    inventory                  inventory[]
    procurement_history        procurement_history[]
    procurement_before_boq     procurement_before_boq[]
    procurement_stocks         procurement_stocks[]
    procurement_stocks_history procurement_stocks_history[]
}

model unit_master {
    id                         String                       @id @default(uuid())
    name                       String
    abbreviation               String?
    status                     Boolean                      @default(true)
    createdAt                  DateTime                     @default(now())
    updatedAt                  DateTime                     @updatedAt
    inventory                  inventory[]
    procurement_history        procurement_history[]
    procurement_before_boq     procurement_before_boq[]
    procurement_stocks         procurement_stocks[]
    procurement_stocks_history procurement_stocks_history[]
    rate_contract              rate_contract[]
}

model supplier_master {
    id                     String                   @id @default(uuid())
    name                   String
    reference_no           String?
    procurement_no         String?
    gst_no                 String
    pan_no                 String?
    address                String?
    bank_name              String?
    account_no             String?
    ifsc                   String?
    status                 Boolean                  @default(true)
    createdAt              DateTime                 @default(now())
    updatedAt              DateTime                 @updatedAt
    inventory              inventory[]
    procurement            procurement?             @relation(fields: [procurement_no], references: [procurement_no])
    procurement_history    procurement_history[]
    procurement_before_boq procurement_before_boq[]
    bid_details            bid_details?             @relation(fields: [reference_no], references: [reference_no])
    rate_contract_supplier rate_contract_supplier[]
}

model bank_master {
    id            String          @id @default(uuid())
    name          String
    branch        String
    address       String
    ifsc          String
    status        Boolean         @default(true)
    createdAt     DateTime        @default(now())
    updatedAt     DateTime        @updatedAt
    basic_details basic_details[]
}

// pre-procurement============================================================================================================================================================================================================================================================================================================

model procurement_status {
    id             String   @id @default(uuid())
    procurement_no String   @unique
    status         Int //-2=rejected, -1=back to sr, 0=pending, 1=in DA's inbox, 69= revised and in DA's inbox, 70=BOQ ready, 71=Pre Tender ready, 72=level 1, 73=lvel 2, 74=ready to release, 2=released for tender, 3=supplier assigned, 4=stock partially recieved, 5=stock recieved, 6=partially added, 7=added
    createdAt      DateTime @default(now())
    updatedAt      DateTime @updatedAt
    // procurement    procurement[]
}

model sr_pre_procurement_inbox {
    id             String      @id @default(uuid())
    procurement_no String      @unique
    procurement    procurement @relation(fields: [procurement_no], references: [procurement_no])
    createdAt      DateTime    @default(now())
    updatedAt      DateTime    @updatedAt
}

model sr_pre_procurement_outbox {
    id             String      @id @default(uuid())
    procurement_no String      @unique
    procurement    procurement @relation(fields: [procurement_no], references: [procurement_no])
    createdAt      DateTime    @default(now())
    updatedAt      DateTime    @updatedAt
}

model ia_pre_procurement_inbox {
    id             String      @id @default(uuid())
    procurement_no String      @unique
    procurement    procurement @relation(fields: [procurement_no], references: [procurement_no])
    createdAt      DateTime    @default(now())
    updatedAt      DateTime    @updatedAt
}

model ia_pre_procurement_outbox {
    id             String      @id @default(uuid())
    procurement_no String      @unique
    procurement    procurement @relation(fields: [procurement_no], references: [procurement_no])
    createdAt      DateTime    @default(now())
    updatedAt      DateTime    @updatedAt
}

model da_pre_procurement_inbox {
    id             String      @id @default(uuid())
    procurement_no String      @unique
    procurement    procurement @relation(fields: [procurement_no], references: [procurement_no])
    createdAt      DateTime    @default(now())
    updatedAt      DateTime    @updatedAt
}

model da_pre_procurement_outbox {
    id             String      @id @default(uuid())
    procurement_no String      @unique
    procurement    procurement @relation(fields: [procurement_no], references: [procurement_no])
    createdAt      DateTime    @default(now())
    updatedAt      DateTime    @updatedAt
}

model acc_pre_procurement_inbox {
    id             String      @id @default(uuid())
    procurement_no String      @unique
    procurement    procurement @relation(fields: [procurement_no], references: [procurement_no])
    createdAt      DateTime    @default(now())
    updatedAt      DateTime    @updatedAt
}

model acc_pre_procurement_outbox {
    id             String      @id @default(uuid())
    procurement_no String      @unique
    procurement    procurement @relation(fields: [procurement_no], references: [procurement_no])
    createdAt      DateTime    @default(now())
    updatedAt      DateTime    @updatedAt
}

// post-procurement============================================================================================================================================================================================================================================================================================================

model da_post_procurement_inbox {
    id             String      @id @default(uuid())
    procurement_no String      @unique
    procurement    procurement @relation(fields: [procurement_no], references: [procurement_no])
    createdAt      DateTime    @default(now())
    updatedAt      DateTime    @updatedAt
}

model da_post_procurement_outbox {
    id             String      @id @default(uuid())
    procurement_no String      @unique
    procurement    procurement @relation(fields: [procurement_no], references: [procurement_no])
    createdAt      DateTime    @default(now())
    updatedAt      DateTime    @updatedAt
}

model sr_post_procurement_inbox {
    id             String      @id @default(uuid())
    procurement_no String      @unique
    procurement    procurement @relation(fields: [procurement_no], references: [procurement_no])
    createdAt      DateTime    @default(now())
    updatedAt      DateTime    @updatedAt
}

// received inventory============================================================================================================================================================================================================================================================================================================

model receivings {
    id                   String              @id @default(uuid())
    procurement_no       String?
    procurement_stock_id String?
    receiving_no         String              @unique
    date                 DateTime?           @db.Date
    received_quantity    Int?
    remaining_quantity   Int?
    is_added             Boolean             @default(false)
    remark               String?
    procurement          procurement?        @relation(fields: [procurement_no], references: [procurement_no])
    procurement_stock    procurement_stocks? @relation(fields: [procurement_stock_id], references: [id])
    createdAt            DateTime            @default(now())
    updatedAt            DateTime            @updatedAt
    receiving_image      receiving_image[]
}

model receiving_image {
    id           String      @id @default(uuid())
    ReferenceNo  String
    uniqueId     String?
    receiving    receivings? @relation(fields: [receiving_no], references: [receiving_no])
    receiving_no String?
    createdAt    DateTime    @default(now())
    updatedAt    DateTime    @updatedAt
}

model da_received_inventory_inbox {
    id             String      @id @default(uuid())
    procurement_no String      @unique
    procurement    procurement @relation(fields: [procurement_no], references: [procurement_no])
    createdAt      DateTime    @default(now())
    updatedAt      DateTime    @updatedAt
}

model da_received_inventory_outbox {
    id             String      @id @default(uuid())
    procurement_no String      @unique
    procurement    procurement @relation(fields: [procurement_no], references: [procurement_no])
    createdAt      DateTime    @default(now())
    updatedAt      DateTime    @updatedAt
}

model sr_received_inventory_inbox {
    id             String      @id @default(uuid())
    procurement_no String      @unique
    procurement    procurement @relation(fields: [procurement_no], references: [procurement_no])
    createdAt      DateTime    @default(now())
    updatedAt      DateTime    @updatedAt
}

model sr_received_inventory_outbox {
    id             String      @id @default(uuid())
    procurement_no String      @unique
    procurement    procurement @relation(fields: [procurement_no], references: [procurement_no])
    createdAt      DateTime    @default(now())
    updatedAt      DateTime    @updatedAt
}

//inventory============================================================================================================================================================================================================================================================================================================

model inventory {
    id                      String                    @id @default(uuid())
    category                category_master?          @relation(fields: [category_masterId], references: [id])
    category_masterId       String?
    subcategory             subcategory_master?       @relation(fields: [subcategory_masterId], references: [id])
    subcategory_masterId    String?
    brand                   brand_master?             @relation(fields: [brand_masterId], references: [id])
    brand_masterId          String?
    description             String?
    quantity                Float                     @default(0)
    warranty                Boolean                   @default(false)
    createdAt               DateTime                  @default(now())
    updatedAt               DateTime                  @updatedAt
    stock_addition_history  stock_addition_history[]
    stock_request           stock_request[]
    inventory_buffer        inventory_buffer[]
    unit                    unit_master?              @relation(fields: [unit_masterId], references: [id])
    unit_masterId           String?
    supplier_master         supplier_master?          @relation(fields: [supplier_masterId], references: [id])
    supplier_masterId       String?
    inventory_dead_stock    inventory_dead_stock[]
    stock_req_product       stock_req_product[]
    stock_request_history   stock_request_history[]
    service_request         service_request[]
    service_req_product     service_req_product[]
    inventory_warranty      inventory_warranty[]
    service_history         service_history[]
    emp_service_request     emp_service_request[]
    emp_service_req_product emp_service_req_product[]
    emp_service_history     emp_service_history[]
    stock_handover          stock_handover[]
}

model rate_contract {
    id                     String                   @id @default(uuid())
    category               category_master?         @relation(fields: [category_masterId], references: [id])
    category_masterId      String?
    subcategory            subcategory_master?      @relation(fields: [subcategory_masterId], references: [id])
    subcategory_masterId   String?
    description            String?
    start_date             DateTime
    end_date               DateTime
    createdAt              DateTime                 @default(now())
    updatedAt              DateTime                 @updatedAt
    unit                   unit_master?             @relation(fields: [unit_masterId], references: [id])
    unit_masterId          String?
    rate_contract_supplier rate_contract_supplier[]
}

model rate_contract_supplier {
    id                String           @id @default(uuid())
    rate_contract_id  String
    rate_contract     rate_contract    @relation(fields: [rate_contract_id], references: [id])
    unit_price        Float
    supplier_master   supplier_master? @relation(fields: [supplier_masterId], references: [id])
    supplier_masterId String?
    createdAt         DateTime         @default(now())
    updatedAt         DateTime         @updatedAt
    procurement       procurement[]
}

model inventory_dead_stock {
    id                         String                       @id @default(uuid())
    inventoryId                String
    serial_no                  String
    quantity                   Float
    remark1                    String?
    remark2                    String?
    createdAt                  DateTime                     @default(now())
    updatedAt                  DateTime                     @updatedAt
    inventory_dead_stock_image inventory_dead_stock_image[]
    inventory                  inventory                    @relation(fields: [inventoryId], references: [id])
}

enum dead_stock_role {
    DD
    IA
}

model inventory_dead_stock_image {
    id                     String               @id @default(uuid())
    doc_path               String
    inventory_dead_stock   inventory_dead_stock @relation(fields: [inventory_dead_stockId], references: [id])
    inventory_dead_stockId String
    uploader               dead_stock_role?
    createdAt              DateTime             @default(now())
    updatedAt              DateTime             @updatedAt
}

model inventory_warranty {
    id          String    @id @default(uuid())
    inventoryId String
    serial_no   String
    quantity    Float
    remark1     String?
    remark2     String?
    createdAt   DateTime  @default(now())
    updatedAt   DateTime  @updatedAt
    inventory   inventory @relation(fields: [inventoryId], references: [id])
}

model dead_stock {
    id               String             @id @default(uuid())
    procurement_no   String             @unique
    quantity         Float
    createdAt        DateTime           @default(now())
    updatedAt        DateTime           @updatedAt
    dead_stock_image dead_stock_image[]
}

model dead_stock_image {
    id             String     @id @default(uuid())
    procurement_no String     @unique
    ReferenceNo    String
    uniqueId       String?
    dead_stock     dead_stock @relation(fields: [procurement_no], references: [procurement_no])
    createdAt      DateTime   @default(now())
    updatedAt      DateTime   @updatedAt
}

//procurement============================================================================================================================================================================================================================================================================================================

model procurement {
    id                           String                        @id @default(uuid())
    procurement_no               String                        @unique
    rate_contract_supplier       String?
    category_masterId            String?
    category                     category_master?              @relation(fields: [category_masterId], references: [id])
    total_rate                   Float?
    isEdited                     Boolean                       @default(false)
    is_partial                   Boolean                       @default(true)
    status                       Int                           @default(0) //   0=pending, 10=level1, 11=level1 returned, 12=level1 rejected, 13=level1 revised, 14=level1 approved, 20=level2, 21=level2 return, 22=level2 rejected, 23=level2 revised, 24=level2 approved, 3=supplier assigned, 4=stock partially recieved, 5=stock recieved, 6=partially added, 7=added     
    remark                       String?
    is_rate_contract             Boolean                       @default(false)
    createdAt                    DateTime                      @default(now())
    updatedAt                    DateTime                      @updatedAt
    sr_pre_procurement_inbox     sr_pre_procurement_inbox?
    sr_pre_procurement_outbox    sr_pre_procurement_outbox?
    da_pre_procurement_inbox     da_pre_procurement_inbox?
    da_pre_procurement_outbox    da_pre_procurement_outbox?
    da_post_procurement_inbox    da_post_procurement_inbox?
    post_procurement             post_procurement?
    da_post_procurement_outbox   da_post_procurement_outbox?
    sr_post_procurement_inbox    sr_post_procurement_inbox?
    receivings                   receivings[]
    da_received_inventory_inbox  da_received_inventory_inbox?
    da_received_inventory_outbox da_received_inventory_outbox?
    sr_received_inventory_inbox  sr_received_inventory_inbox?
    sr_received_inventory_outbox sr_received_inventory_outbox?
    boq_procurement              boq_procurement[]
    acc_pre_procurement_inbox    acc_pre_procurement_inbox?
    acc_pre_procurement_outbox   acc_pre_procurement_outbox?
    ia_pre_procurement_inbox     ia_pre_procurement_inbox?
    procurement_stocks           procurement_stocks[]
    ia_pre_procurement_outbox    ia_pre_procurement_outbox?
    level1_inbox                 level1_inbox?
    level1_outbox                level1_outbox?
    level2_inbox                 level2_inbox?
    level2_outbox                level2_outbox?
    procurement_stocks_history   procurement_stocks_history[]
    boq                          boq?
    supplier_master              supplier_master[]
    rate_contract_supplier_data  rate_contract_supplier?       @relation(fields: [rate_contract_supplier], references: [id])
    rate_contract_supplierId     String
}

model procurement_stocks {
    id                         String                      @id @default(uuid())
    procurement_no             String
    procurement                procurement                 @relation(fields: [procurement_no], references: [procurement_no])
    category_masterId          String?
    category                   category_master?            @relation(fields: [category_masterId], references: [id])
    subCategory_masterId       String?
    subCategory                subcategory_master?         @relation(fields: [subCategory_masterId], references: [id])
    brand_masterId             String?
    brand                      brand_master?               @relation(fields: [brand_masterId], references: [id])
    unit_masterId              String?
    unit                       unit_master?                @relation(fields: [unit_masterId], references: [id])
    gst                        Float?
    remark                     String?
    rate                       Float?
    quantity                   Float?
    description                String?
    total_rate                 Float?
    hsn_code                   String?
    createdAt                  DateTime                    @default(now())
    updatedAt                  DateTime                    @updatedAt
    boq_procurement_no         String?
    is_partial                 Boolean                     @default(true)
    procurement_stocks_history procurement_stocks_history?
    boq                        boq?                        @relation(fields: [boq_procurement_no], references: [procurement_no])
    receivings                 receivings[]
}

model procurement_stocks_history {
    id                   String              @id @default(uuid())
    procurement_no       String
    procurement          procurement         @relation(fields: [procurement_no], references: [procurement_no])
    category_masterId    String?
    category             category_master?    @relation(fields: [category_masterId], references: [id])
    subCategory_masterId String?
    subCategory          subcategory_master? @relation(fields: [subCategory_masterId], references: [id])
    brand_masterId       String?
    brand                brand_master?       @relation(fields: [brand_masterId], references: [id])
    unit_masterId        String?
    unit                 unit_master?        @relation(fields: [unit_masterId], references: [id])
    gst                  Float?
    remark               String?
    rate                 Float?
    quantity             Float?
    description          String?
    total_rate           Float?
    createdAt            DateTime            @default(now())
    updatedAt            DateTime            @updatedAt
    procurement_stocks   procurement_stocks  @relation(fields: [procurement_stocksId], references: [id])
    procurement_stocksId String              @unique
}

model procurement_before_boq {
    id                   String              @id @default(uuid())
    procurement_no       String              @unique
    category             category_master?    @relation(fields: [category_masterId], references: [id])
    category_masterId    String?
    subcategory          subcategory_master? @relation(fields: [subcategory_masterId], references: [id])
    subcategory_masterId String?
    brand                brand_master?       @relation(fields: [brand_masterId], references: [id])
    brand_masterId       String?
    description          String?
    quantity             Int                 @default(0)
    rate                 Float?
    total_rate           Float?
    remark               String?
    createdAt            DateTime            @default(now())
    updatedAt            DateTime            @updatedAt
    unit                 unit_master?        @relation(fields: [unit_masterId], references: [id])
    unit_masterId        String?
    supplier_master      supplier_master?    @relation(fields: [supplier_masterId], references: [id])
    supplier_masterId    String?
}

model post_procurement {
    id             String      @id @default(uuid())
    procurement_no String      @unique
    supplier_name  String?
    gst_no         String?
    final_rate     Float?
    gst            Float?
    total_quantity Int?
    total_price    Float?
    unit_price     Float?
    is_gst_added   Boolean     @default(false)
    procurement    procurement @relation(fields: [procurement_no], references: [procurement_no])
    createdAt      DateTime    @default(now())
    updatedAt      DateTime    @updatedAt
}

model procurement_history {
    id                   String              @id @default(uuid())
    procurement_no       String              @unique
    category             category_master?    @relation(fields: [category_masterId], references: [id])
    category_masterId    String?
    subcategory          subcategory_master? @relation(fields: [subcategory_masterId], references: [id])
    subcategory_masterId String?
    brand                brand_master?       @relation(fields: [brand_masterId], references: [id])
    brand_masterId       String?
    description          String?
    quantity             Int                 @default(0)
    isEdited             Boolean             @default(true)
    status               Int
    rate                 Float?
    total_rate           Float?
    is_partial           Boolean             @default(true)
    remark               String?
    createdAt            DateTime            @default(now())
    updatedAt            DateTime            @updatedAt
    unit                 unit_master?        @relation(fields: [unit_masterId], references: [id])
    unit_masterId        String?
    supplier_master      supplier_master?    @relation(fields: [supplier_masterId], references: [id])
    supplier_masterId    String?
}

model stock_addition_history {
    id                   String    @id @default(uuid())
    inventory            inventory @relation(fields: [inventoryId], references: [id])
    inventoryId          String
    procurement_stock_id String?
    procurement_no       String
    createdAt            DateTime  @default(now())
    updatedAt            DateTime  @updatedAt
}

//Docs============================================================================================================================================================================================================================================================================================================

model note_sheet {
    id             String   @id @default(uuid())
    procurement_no String
    operation      Int //1=forward to DA, 2=release for tender,11=forward for boq, 12=forward for pre-tendering form
    ReferenceNo    String
    uniqueId       String?
    createdAt      DateTime @default(now())
    updatedAt      DateTime @updatedAt
}

//BOQ============================================================================================================================================================================================================================================================================================================

model boq {
    id                    String                 @id @default(uuid())
    reference_no          String                 @unique
    procurement_no        String?                @unique
    gst                   Float?
    estimated_cost        Float?
    remark                String?
    createdAt             DateTime               @default(now())
    updatedAt             DateTime               @updatedAt
    revised               Boolean                @default(false)
    status                Int                    @default(0) //0=pending,40=finance pending, 41=finance returned, 42=finance approved, 43=finance rejected, 50=pre tender details, 60=tendering form, 70=tendering admin
    isEdited              Boolean                @default(false)
    hsn_code              String?
    procurements          boq_procurement[]
    procurement           procurement?           @relation(fields: [procurement_no], references: [procurement_no])
    boq_doc               boq_doc[]
    acc_boq_inbox         acc_boq_inbox?
    acc_boq_outbox        acc_boq_outbox?
    da_boq_inbox          da_boq_inbox?
    da_boq_outbox         da_boq_outbox?
    tendering_form        tendering_form?
    finance_boq_inbox     finance_boq_inbox?
    finance_boq_outbox    finance_boq_outbox?
    procurement_stocks    procurement_stocks[]
    pre_tendering_details pre_tendering_details?
    bid_details           bid_details?
    ta_inbox              ta_inbox?
    ta_outbox             ta_outbox?
}

model boq_procurement {
    id             String      @id @default(uuid())
    reference_no   String
    procurement_no String      @unique
    quantity       Int?
    description    String?
    unit           String?
    rate           Float?
    amount         Float?
    remark         String?
    hsn_code       String?
    createdAt      DateTime    @default(now())
    updatedAt      DateTime    @updatedAt
    procurement    procurement @relation(fields: [procurement_no], references: [procurement_no])
    boq            boq         @relation(fields: [reference_no], references: [reference_no])
}

model boq_doc {
    id           String   @id @default(uuid())
    reference_no String
    docPath      String?
    remark       String?
    createdAt    DateTime @default(now())
    updatedAt    DateTime @updatedAt
    boq          boq      @relation(fields: [reference_no], references: [reference_no])
}

model acc_boq_inbox {
    id           String   @id @default(uuid())
    reference_no String   @unique
    boq          boq      @relation(fields: [reference_no], references: [reference_no])
    createdAt    DateTime @default(now())
    updatedAt    DateTime @updatedAt
}

model acc_boq_outbox {
    id           String   @id @default(uuid())
    reference_no String   @unique
    boq          boq      @relation(fields: [reference_no], references: [reference_no])
    createdAt    DateTime @default(now())
    updatedAt    DateTime @updatedAt
}

model da_boq_inbox {
    id           String   @id @default(uuid())
    reference_no String   @unique
    boq          boq      @relation(fields: [reference_no], references: [reference_no])
    createdAt    DateTime @default(now())
    updatedAt    DateTime @updatedAt
}

model da_boq_outbox {
    id           String   @id @default(uuid())
    reference_no String   @unique
    boq          boq      @relation(fields: [reference_no], references: [reference_no])
    createdAt    DateTime @default(now())
    updatedAt    DateTime @updatedAt
}

model finance_boq_inbox {
    id           String   @id @default(uuid())
    reference_no String   @unique
    boq          boq      @relation(fields: [reference_no], references: [reference_no])
    createdAt    DateTime @default(now())
    updatedAt    DateTime @updatedAt
}

model finance_boq_outbox {
    id           String   @id @default(uuid())
    reference_no String   @unique
    boq          boq      @relation(fields: [reference_no], references: [reference_no])
    createdAt    DateTime @default(now())
    updatedAt    DateTime @updatedAt
}

//Pre-tendering============================================================================================================================================================================================================================================================================================================

enum pre_tendering_details_enum {
    percentage
    fixed
}

enum tendering_type_enum {
    least_cost
    qcbs
    rate_contract
}

model pre_tendering_details {
    id               String                     @id @default(uuid())
    reference_no     String                     @unique
    boq              boq                        @relation(fields: [reference_no], references: [reference_no])
    emd              Boolean
    estimated_amount Float
    emd_type         pre_tendering_details_enum
    emd_value        Float
    pbg_type         pre_tendering_details_enum
    pbg_value        Float
    tendering_type   tendering_type_enum
    tenure           Float?
    min_supplier     Int?
    max_supplier     Int?
    no_of_covers     Int?
    is_rate_contract Boolean                    @default(false)
    createdAt        DateTime                   @default(now())
    updatedAt        DateTime                   @updatedAt
}

//enums
enum payment_mode_enum {
    online
    offline
}

enum tendering_form_docs_enum {
    basic_details
}

model tendering_form_docs {
    id           String                   @id @default(uuid())
    reference_no String
    form         tendering_form_docs_enum
    ReferenceNo  String
    uniqueId     String?
    createdAt    DateTime                 @default(now())
    updatedAt    DateTime                 @updatedAt
}

model tendering_form {
    id                    String                 @id @default(uuid())
    reference_no          String                 @unique
    status                Int                    @default(0) //-3=rejected by level2, -2=rejected by level1, -1=returned, 0=pending, 1=level1, 11=level1 approved, 12=returned to level1, 12=  2=level2, 21=level2 approved
    isEdited              Boolean                @default(false)
    isPartial             Boolean                @default(true)
    createdAt             DateTime               @default(now())
    remark                String?
    updatedAt             DateTime               @updatedAt
    boq                   boq                    @relation(fields: [reference_no], references: [reference_no])
    basic_details         basic_details?
    cover_details         cover_details?
    work_details          work_details?
    fee_details           fee_details?
    critical_dates        critical_dates?
    bid_openers           bid_openers?
    acc_pre_tender_inbox  acc_pre_tender_inbox?
    acc_pre_tender_outbox acc_pre_tender_outbox?
    da_pre_tender_inbox   da_pre_tender_inbox?
    da_pre_tender_outbox  da_pre_tender_outbox?
}

enum offline_banks_enum {
    ss
    bg
    bc
    dd
}

model basic_details {
    id                       String              @id @default(uuid())
    reference_no             String              @unique
    allow_offline_submission Boolean
    allow_resubmission       Boolean
    allow_withdrawl          Boolean
    payment_mode             payment_mode_enum
    onlinePyment_mode        String?
    bank                     bank_master?        @relation(fields: [onlinePyment_mode], references: [id])
    offline_banks            offline_banks_enum?
    contract_form            String[]
    tender_category          String[]
    tender_type              String[]
    createdAt                DateTime            @default(now())
    updatedAt                DateTime            @updatedAt
    tendering_form           tendering_form      @relation(fields: [reference_no], references: [reference_no])
}

model cover_details_docs {
    id              String        @id @default(uuid())
    cover_detailsId String
    type            String
    docPath         String[]
    createdAt       DateTime      @default(now())
    updatedAt       DateTime      @updatedAt
    cover_details   cover_details @relation(fields: [cover_detailsId], references: [id])
}

model cover_details {
    id                 String               @id @default(uuid())
    reference_no       String               @unique
    noOfCovers         Int
    content            String
    createdAt          DateTime             @default(now())
    updatedAt          DateTime             @updatedAt
    tendering_form     tendering_form       @relation(fields: [reference_no], references: [reference_no])
    cover_details_docs cover_details_docs[]
}

model work_details {
    id                        String         @id @default(uuid())
    reference_no              String         @unique
    workDiscription           String
    pre_qualification_details String
    product_category          String[]
    productSubCategory        String
    contract_type             String
    tender_values             String
    bid_validity              String
    completionPeriod          Int
    location                  String
    pinCode                   String
    pre_bid                   Boolean
    preBidMeeting             String?
    preBidMeetingAdd          String?
    bidOpeningPlace           String
    tenderer_class            String[]
    invstOffName              String
    invstOffAdd               String
    invstOffEmail_Ph          String
    createdAt                 DateTime       @default(now())
    updatedAt                 DateTime       @updatedAt
    tendering_form            tendering_form @relation(fields: [reference_no], references: [reference_no])
}

model fee_details {
    id                 String         @id @default(uuid())
    reference_no       String         @unique
    tenderFee          Float
    processingFee      Float
    tenderFeePayableTo String
    tenderFeePayableAt String
    surcharges         Float
    otherCharges       Float
    emd_exemption      Boolean
    emd_fee            String?
    emdPercentage      Float?
    emdAmount          Float?
    emdFeePayableTo    String
    emdFeePayableAt    String
    createdAt          DateTime       @default(now())
    updatedAt          DateTime       @updatedAt
    tendering_form     tendering_form @relation(fields: [reference_no], references: [reference_no])
}

model critical_dates {
    id                String         @id @default(uuid())
    reference_no      String         @unique
    publishingDate    DateTime
    bidOpeningDate    DateTime
    docSaleStartDate  DateTime
    docSaleEndDate    DateTime
    seekClariStrtDate DateTime
    seekClariEndDate  DateTime
    bidSubStrtDate    DateTime
    bidSubEndDate     DateTime
    preBidMettingDate DateTime
    createdAt         DateTime       @default(now())
    updatedAt         DateTime       @updatedAt
    tendering_form    tendering_form @relation(fields: [reference_no], references: [reference_no])
}

enum bid_openers_docs_enum {
    B01
    B02
}

model bid_openers_docs {
    id            String                @id @default(uuid())
    bid_openersId String
    type          bid_openers_docs_enum
    ReferenceNo   String
    uniqueId      String?
    nameDesig     String
    description   String
    docSize       String?
    createdAt     DateTime              @default(now())
    updatedAt     DateTime              @updatedAt
    bid_openers   bid_openers           @relation(fields: [bid_openersId], references: [id])
}

model bid_openers {
    id               String             @id @default(uuid())
    reference_no     String             @unique
    b01NameDesig     String
    b01Email         String
    b02NameDesig     String
    b02Email         String
    b03NameDesig     String?
    b03Email         String?
    createdAt        DateTime           @default(now())
    updatedAt        DateTime           @updatedAt
    tendering_form   tendering_form     @relation(fields: [reference_no], references: [reference_no])
    bid_openers_docs bid_openers_docs[]
}

model acc_pre_tender_inbox {
    id             String         @id @default(uuid())
    reference_no   String         @unique
    tendering_form tendering_form @relation(fields: [reference_no], references: [reference_no])
    createdAt      DateTime       @default(now())
    updatedAt      DateTime       @updatedAt
}

model acc_pre_tender_outbox {
    id             String         @id @default(uuid())
    reference_no   String         @unique
    tendering_form tendering_form @relation(fields: [reference_no], references: [reference_no])
    createdAt      DateTime       @default(now())
    updatedAt      DateTime       @updatedAt
}

model da_pre_tender_inbox {
    id             String         @id @default(uuid())
    reference_no   String         @unique
    tendering_form tendering_form @relation(fields: [reference_no], references: [reference_no])
    createdAt      DateTime       @default(now())
    updatedAt      DateTime       @updatedAt
}

model da_pre_tender_outbox {
    id             String         @id @default(uuid())
    reference_no   String         @unique
    tendering_form tendering_form @relation(fields: [reference_no], references: [reference_no])
    createdAt      DateTime       @default(now())
    updatedAt      DateTime       @updatedAt
}

// notification================================================================================================================================================================

model notification {
    id          String   @id @default(uuid())
    role_id     Int
    title       String
    description String?
    isSeen      Boolean  @default(false)
    from        String?
    destination Int? //0 = no inbox(perform any operation) ,10=sr pre-proc inbox,14=sr pre-proc rejected,15=sr pre-proc released, 20=da pre-proc inbox, 21=da boq inbox, 22=da pre-tender inbox, 30=acc pre-proc inbox, 31=acc boq inbox, 32=acc pre-tender inbox, 11=sr post-proc inbox, 12=sr rec-inv inbox, 23=da post proc inbox, 24=da rec-inv inbox, 25=da stock req inbox, 26=da service req inbox, 13=sr stock req inbox, 40=dist stock-req inbox, 41=dist service req inbox, 42=dist emp service req inbox, 50=level1 inbox, 60=level2 inbox,70=finance, 80=IA stock req inbox, 81=IA service req inbox, 82=IA procurement inbox, 90=TA boq inbox, 100=emp service req inbox
    createdAt   DateTime @default(now())
    updatedAt   DateTime @updatedAt
}

// notification================================================================================================================================================================

// stock request================================================================================================================================================================

model stock_request {
    id                    String                 @id @default(uuid())
    stock_handover_no     String                 @unique
    emp_id                String
    emp_name              String?
    allotted_quantity     Float                  @default(1)
    status                Int //-2=rejected, -1=returned, 0=pending, 1=revised, 2= forwarded to DA, 80=forwarded to IA, 81=IA returned, 82= IA rejected, 3=approved, 4=handover pending, 41=allotted, 5=return pending, 51= returned to inventory, 52=returned to DD, -5= rejected, 6=dead stock pending, 61=added to dead stock, 62=returned to DD, -6= rejected, 7=warranty claim pending, 71=warranty claimed, 72=returned to DD, -7= rejected, 
    ulb_id                Int?
    inventory             inventory?             @relation(fields: [inventoryId], references: [id])
    inventoryId           String?
    isEdited              Boolean                @default(false)
    createdAt             DateTime               @default(now())
    updatedAt             DateTime               @updatedAt
    dist_stock_req_inbox  dist_stock_req_inbox?
    dist_stock_req_outbox dist_stock_req_outbox?
    sr_stock_req_inbox    sr_stock_req_inbox?
    sr_stock_req_outbox   sr_stock_req_outbox?
    allotment_date        DateTime?
    release_date          DateTime?
    is_alloted            Boolean                @default(false)
    is_notified           Int                    @default(0) //0=not notified, 1=notified, -2=not allowed for procurement, 2=allowed for procurement
    remark                String?
    da_stock_req_inbox    da_stock_req_inbox?
    da_stock_req_outbox   da_stock_req_outbox?
    ia_stock_req_inbox    ia_stock_req_inbox?
    ia_stock_req_outbox   ia_stock_req_outbox?
    stock_req_product     stock_req_product[]
    service_request       service_request[]
    stock_handover        stock_handover[]
    emp_service_request   emp_service_request[]
}

model stock_req_product {
    id                String        @id @default(uuid())
    stock_handover_no String
    serial_no         String
    quantity          Float         @default(1)
    inventory         inventory     @relation(fields: [inventoryId], references: [id])
    inventoryId       String
    is_available      Boolean       @default(true)
    stock_request     stock_request @relation(fields: [stock_handover_no], references: [stock_handover_no])
    createdAt         DateTime      @default(now())
    updatedAt         DateTime      @updatedAt

    @@unique([stock_handover_no, serial_no])
}

model stock_handover {
    id                String        @id @default(uuid())
    stock_handover_no String
    emp_id            String
    emp_name          String?
    ulb_id            Int?
    serial_no         String
    quantity          Float         @default(1)
    return_date       DateTime?
    is_alloted        Boolean       @default(true)
    inventory         inventory     @relation(fields: [inventoryId], references: [id])
    inventoryId       String
    stock_request     stock_request @relation(fields: [stock_handover_no], references: [stock_handover_no])
    createdAt         DateTime      @default(now())
    updatedAt         DateTime      @updatedAt

    @@unique([emp_id, serial_no])
}

model inventory_buffer {
    id                String    @id @default(uuid())
    stock_handover_no String    @unique
    reserved_quantity Float
    inventory         inventory @relation(fields: [inventoryId], references: [id])
    inventoryId       String
    createdAt         DateTime  @default(now())
    updatedAt         DateTime  @updatedAt
}

model stock_request_history {
    id                String     @id @default(uuid())
    stock_handover_no String     @unique
    emp_id            String
    emp_name          String?
    allotted_quantity Float
    status            Int
    isEdited          Boolean    @default(true)
    createdAt         DateTime   @default(now())
    updatedAt         DateTime   @updatedAt
    inventory         inventory? @relation(fields: [inventoryId], references: [id])
    inventoryId       String?
}

enum service_enum {
    warranty
    return
    dead
}

model service_request {
    id                      String                   @id @default(uuid())
    stock_handover_no       String
    service_no              String                   @unique
    status                  Int // 0=pending, 10=da, 11=da returned, 12= da rejected, 20=IA, 21=IA returned, 22= IA rejected, 23= approved  
    service                 service_enum
    inventory               inventory?               @relation(fields: [inventoryId], references: [id])
    inventoryId             String?
    remark                  String?
    createdAt               DateTime                 @default(now())
    updatedAt               DateTime                 @updatedAt
    service_req_product     service_req_product[]
    stock_request           stock_request            @relation(fields: [stock_handover_no], references: [stock_handover_no])
    dist_service_req_inbox  dist_service_req_inbox?
    dist_service_req_outbox dist_service_req_outbox?
    ia_service_req_inbox    ia_service_req_inbox?
    ia_service_req_outbox   ia_service_req_outbox?
    da_service_req_inbox    da_service_req_inbox?
    da_service_req_outbox   da_service_req_outbox?
    service_history         service_history?
}

model service_req_product {
    id              String          @id @default(uuid())
    service_no      String
    serial_no       String          @unique
    quantity        Float           @default(1)
    status          Int             @default(0) // -1=failed, 0=pending, 1=successful
    inventory       inventory       @relation(fields: [inventoryId], references: [id])
    inventoryId     String
    service_request service_request @relation(fields: [service_no], references: [service_no])
    createdAt       DateTime        @default(now())
    updatedAt       DateTime        @updatedAt
}

model service_history {
    id                String          @id @default(uuid())
    stock_handover_no String
    service_no        String          @unique
    serial_no         String
    quantity          Float           @default(1)
    service           service_enum
    inventory         inventory       @relation(fields: [inventoryId], references: [id])
    inventoryId       String
    service_request   service_request @relation(fields: [service_no], references: [service_no])
    createdAt         DateTime        @default(now())
    updatedAt         DateTime        @updatedAt
}

model dist_stock_req_inbox {
    id                String        @id @default(uuid())
    stock_handover_no String        @unique
    stock_request     stock_request @relation(fields: [stock_handover_no], references: [stock_handover_no])
    createdAt         DateTime      @default(now())
    updatedAt         DateTime      @updatedAt
}

model dist_stock_req_outbox {
    id                String        @id @default(uuid())
    stock_handover_no String        @unique
    stock_request     stock_request @relation(fields: [stock_handover_no], references: [stock_handover_no])
    createdAt         DateTime      @default(now())
    updatedAt         DateTime      @updatedAt
}

model sr_stock_req_inbox {
    id                String        @id @default(uuid())
    stock_handover_no String        @unique
    stock_request     stock_request @relation(fields: [stock_handover_no], references: [stock_handover_no])
    createdAt         DateTime      @default(now())
    updatedAt         DateTime      @updatedAt
}

model sr_stock_req_outbox {
    id                String        @id @default(uuid())
    stock_handover_no String        @unique
    stock_request     stock_request @relation(fields: [stock_handover_no], references: [stock_handover_no])
    createdAt         DateTime      @default(now())
    updatedAt         DateTime      @updatedAt
}

model da_stock_req_inbox {
    id                String        @id @default(uuid())
    stock_handover_no String        @unique
    stock_request     stock_request @relation(fields: [stock_handover_no], references: [stock_handover_no])
    createdAt         DateTime      @default(now())
    updatedAt         DateTime      @updatedAt
}

model da_stock_req_outbox {
    id                String        @id @default(uuid())
    stock_handover_no String        @unique
    stock_request     stock_request @relation(fields: [stock_handover_no], references: [stock_handover_no])
    createdAt         DateTime      @default(now())
    updatedAt         DateTime      @updatedAt
}

model ia_stock_req_inbox {
    id                String        @id @default(uuid())
    stock_handover_no String        @unique
    stock_request     stock_request @relation(fields: [stock_handover_no], references: [stock_handover_no])
    createdAt         DateTime      @default(now())
    updatedAt         DateTime      @updatedAt
}

model ia_stock_req_outbox {
    id                String        @id @default(uuid())
    stock_handover_no String        @unique
    stock_request     stock_request @relation(fields: [stock_handover_no], references: [stock_handover_no])
    createdAt         DateTime      @default(now())
    updatedAt         DateTime      @updatedAt
}

model dist_service_req_inbox {
    id          String          @id @default(uuid())
    service_no  String          @unique
    service_req service_request @relation(fields: [service_no], references: [service_no])
    createdAt   DateTime        @default(now())
    updatedAt   DateTime        @updatedAt
}

model dist_service_req_outbox {
    id          String          @id @default(uuid())
    service_no  String          @unique
    service_req service_request @relation(fields: [service_no], references: [service_no])
    createdAt   DateTime        @default(now())
    updatedAt   DateTime        @updatedAt
}

model da_service_req_inbox {
    id          String          @id @default(uuid())
    service_no  String          @unique
    service_req service_request @relation(fields: [service_no], references: [service_no])
    createdAt   DateTime        @default(now())
    updatedAt   DateTime        @updatedAt
}

model da_service_req_outbox {
    id          String          @id @default(uuid())
    service_no  String          @unique
    service_req service_request @relation(fields: [service_no], references: [service_no])
    createdAt   DateTime        @default(now())
    updatedAt   DateTime        @updatedAt
}

model ia_service_req_inbox {
    id          String          @id @default(uuid())
    service_no  String          @unique
    service_req service_request @relation(fields: [service_no], references: [service_no])
    createdAt   DateTime        @default(now())
    updatedAt   DateTime        @updatedAt
}

model ia_service_req_outbox {
    id          String          @id @default(uuid())
    service_no  String          @unique
    service_req service_request @relation(fields: [service_no], references: [service_no])
    createdAt   DateTime        @default(now())
    updatedAt   DateTime        @updatedAt
}

// stock request================================================================================================================================================================

// level 1 & 2================================================================================================================================================================

model level1_inbox {
    id             String      @id @default(uuid())
    procurement_no String      @unique
    procurement    procurement @relation(fields: [procurement_no], references: [procurement_no])
    createdAt      DateTime    @default(now())
    updatedAt      DateTime    @updatedAt
}

model level1_outbox {
    id             String      @id @default(uuid())
    procurement_no String      @unique
    procurement    procurement @relation(fields: [procurement_no], references: [procurement_no])
    createdAt      DateTime    @default(now())
    updatedAt      DateTime    @updatedAt
}

model level2_inbox {
    id             String      @id @default(uuid())
    procurement_no String      @unique
    procurement    procurement @relation(fields: [procurement_no], references: [procurement_no])
    createdAt      DateTime    @default(now())
    updatedAt      DateTime    @updatedAt
}

model level2_outbox {
    id             String      @id @default(uuid())
    procurement_no String      @unique
    procurement    procurement @relation(fields: [procurement_no], references: [procurement_no])
    createdAt      DateTime    @default(now())
    updatedAt      DateTime    @updatedAt
}

// level 1 & 2================================================================================================================================================================

// bidding================================================================================================================================================================

enum bid_type_enum {
    technical
    financial
    fintech
    abc
}

model ta_inbox {
    id           String   @id @default(uuid())
    reference_no String   @unique
    boq          boq      @relation(fields: [reference_no], references: [reference_no])
    createdAt    DateTime @default(now())
    updatedAt    DateTime @updatedAt
}

model ta_outbox {
    id           String   @id @default(uuid())
    reference_no String   @unique
    boq          boq      @relation(fields: [reference_no], references: [reference_no])
    createdAt    DateTime @default(now())
    updatedAt    DateTime @updatedAt
}

enum comparison_ratio_enum {
    t80f20
    t70f30
    t60f40
}

model bid_details {
    id               String                 @id @default(uuid())
    reference_no     String                 @unique
    bid_type         bid_type_enum
    no_of_bidders    Int?
    comparison_ratio comparison_ratio_enum?
    status           Int                    @default(0) // 0 = pending
    creationStatus   Int                    @default(0) // 0=pending, 1=type selected, 2=criteria added, 3=bidder added, 41=tech winner selected, 42= fin winner selected, 4=compared, 5=rate contract done 
    boq              boq                    @relation(fields: [reference_no], references: [reference_no])
    createdAt        DateTime               @default(now())
    updatedAt        DateTime               @updatedAt
    criteria         criteria[]
    bidder_master    bidder_master[]
    comparison       comparison[]
    supplier_master  supplier_master[]
}

enum criteria_type_enum {
    technical
    financial
}

model criteria {
    id                  String                @id @default(uuid())
    reference_no        String
    heading             String
    description         String
    criteria_type       criteria_type_enum?
    bid_details         bid_details           @relation(fields: [reference_no], references: [reference_no])
    createdAt           DateTime              @default(now())
    updatedAt           DateTime              @updatedAt
    comparison_criteria comparison_criteria[]
}

enum offline_mode_enum {
    dd
    cash
    bg
}

model bidder_master {
    id                String             @id @default(uuid())
    reference_no      String
    name              String
    gst_no            String
    pan_no            String
    address           String
    bank              String
    account_no        String
    ifsc              String
    emd               Boolean
    emd_doc           String?
    payment_mode      payment_mode_enum?
    offline_mode      offline_mode_enum?
    dd_no             String?
    dd_date           DateTime?
    dd_bank           String?
    dd_transaction_no String?
    bg_no             String?
    bg_date           DateTime?
    bg_bank           String?
    bg_transaction_no String?
    transaction_no    String?
    bidding_amount    Float?
    has_lost          Boolean            @default(false)
    createdAt         DateTime           @default(now())
    updatedAt         DateTime           @updatedAt
    bid_details       bid_details        @relation(fields: [reference_no], references: [reference_no])
    comparison        comparison?
    bidder_doc        bidder_doc[]
}

model bidder_doc {
    id            String             @id @default(uuid())
    criteria_type criteria_type_enum
    doc_path      String
    bidder_id     String
    bidder_master bidder_master      @relation(fields: [bidder_id], references: [id])
    createdAt     DateTime           @default(now())
    updatedAt     DateTime           @updatedAt
}

enum comparison_type_enum {
    numeric
    symbolic
}

model comparison {
    id                  String                @id @default(uuid())
    reference_no        String
    bidder_id           String                @unique
    bidder_master       bidder_master         @relation(fields: [bidder_id], references: [id])
    createdAt           DateTime              @default(now())
    updatedAt           DateTime              @updatedAt
    bid_details         bid_details           @relation(fields: [reference_no], references: [reference_no])
    comparison_criteria comparison_criteria[]
}

model comparison_criteria {
    id              String               @id @default(uuid())
    criteria_id     String
    value           Int
    bidder_id       String
    comparison_type comparison_type_enum
    comparison      comparison           @relation(fields: [bidder_id], references: [bidder_id])
    criteria        criteria             @relation(fields: [criteria_id], references: [id])
    createdAt       DateTime             @default(now())
    updatedAt       DateTime             @updatedAt
}

// bidding================================================================================================================================================================

// employee service================================================================================================================================================================

model emp_service_request {
    id                      String                       @id @default(uuid())
    user_id                 Int
    stock_handover_no       String
    service_no              String                       @unique
    status                  Int // 0=pending, 10=dd, 11=dd returned, 12= dd rejected, 13= approved  
    service                 service_enum
    inventory               inventory?                   @relation(fields: [inventoryId], references: [id])
    inventoryId             String?
    remark                  String?
    stock_request           stock_request                @relation(fields: [stock_handover_no], references: [stock_handover_no])
    createdAt               DateTime                     @default(now())
    updatedAt               DateTime                     @updatedAt
    emp_service_req_product emp_service_req_product[]
    emp_service_history     emp_service_history?
    dd_service_req_inbox    dist_emp_service_req_inbox?
    dd_service_req_outbox   dist_emp_service_req_outbox?
    emp_service_req_inbox   emp_service_req_inbox?
    emp_service_req_outbox  emp_service_req_outbox?
}

model emp_service_req_product {
    id                  String              @id @default(uuid())
    service_no          String
    serial_no           String              @unique
    quantity            Float               @default(1)
    status              Int                 @default(0) // -1=failed, 0=pending, 1=successful
    inventory           inventory           @relation(fields: [inventoryId], references: [id])
    inventoryId         String
    emp_service_request emp_service_request @relation(fields: [service_no], references: [service_no])
    createdAt           DateTime            @default(now())
    updatedAt           DateTime            @updatedAt
}

model emp_service_history {
    id                  String              @id @default(uuid())
    stock_handover_no   String
    service_no          String              @unique
    serial_no           String
    quantity            Float               @default(1)
    service             service_enum
    inventory           inventory           @relation(fields: [inventoryId], references: [id])
    inventoryId         String
    emp_service_request emp_service_request @relation(fields: [service_no], references: [service_no])
    createdAt           DateTime            @default(now())
    updatedAt           DateTime            @updatedAt
}

model dist_emp_service_req_inbox {
    id              String              @id @default(uuid())
    service_no      String              @unique
    emp_service_req emp_service_request @relation(fields: [service_no], references: [service_no])
    createdAt       DateTime            @default(now())
    updatedAt       DateTime            @updatedAt
}

model dist_emp_service_req_outbox {
    id              String              @id @default(uuid())
    service_no      String              @unique
    emp_service_req emp_service_request @relation(fields: [service_no], references: [service_no])
    createdAt       DateTime            @default(now())
    updatedAt       DateTime            @updatedAt
}

model emp_service_req_inbox {
    id              String              @id @default(uuid())
    service_no      String              @unique
    emp_service_req emp_service_request @relation(fields: [service_no], references: [service_no])
    createdAt       DateTime            @default(now())
    updatedAt       DateTime            @updatedAt
}

model emp_service_req_outbox {
    id              String              @id @default(uuid())
    service_no      String              @unique
    emp_service_req emp_service_request @relation(fields: [service_no], references: [service_no])
    createdAt       DateTime            @default(now())
    updatedAt       DateTime            @updatedAt
}

// employee service================================================================================================================================================================
